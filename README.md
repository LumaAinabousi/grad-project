# Sugarak

A diabetes management mobile application, developed using React JS and Django Python.

## Frontend Environment Set Up

### Prerequisites
Ensure you have the following installed:  
 - Node.js (Recommended: LTS version) - Download from [https://nodejs.org/en](https://nodejs.org/en)  
 - npm (will be automatically installed with Node.js)  
 - Expo (to host your application; you can use any alternative such as Android Studio Emulator)  
 - Expo Go (installed on your mobile/tablet device to scan the QR code generated by Expo)

### Installation Steps
1. Clone the repo:
    ```sh
    git clone https://github.com/LumaAinabousi/grad-project.git
    cd frontend
    ```
2. Install dependencies:
    ```sh
    npm install
    ```
3. Run the project (**Note: Make sure you switch to Expo Go before scanning the QR Code with Expo Go App by pressing 'g' once you start the dev server**):
    ```sh
    npx expo start
    g 
    ```

### Extra Web-Page
There is an extra web page for the password reset functionality; it can be found inside the reset-password repo. This webpage needs public hosting.

---

## Backend Environment Set Up

### Prerequisites
Ensure you have the following installed:  
 - Python 3.12 or higher - Download from [https://www.python.org/downloads/](https://www.python.org/downloads/)
 - Pipenv (install via `pip install pipenv`)

### Installation Steps
1. Clone the repo:
    ```sh
    git clone https://github.com/LumaAinabousi/grad-project.git
    cd backend
    ```
2. Install dependencies:
    ```sh
    pipenv install
    ```
3. Activate the VENV:
    ```sh
    pipenv shell
    ```
4. Apply the migrations:
    ```sh
    python manage.py migrate
    ```
5. Run the server:
    ```sh
    python manage.py runserver
    ```

### Email Configuration for Password Reset
To enable password reset functionality, you must configure SMTP settings.

**Step 1: Enable App Passwords for Gmail**  
Google restricts third-party apps from sending emails with your login credentials. To allow Django to send emails securely:  
1. Go to Google App Passwords.  
2. Select "Mail" as the app and "Other (Custom Name)" as the device.  
3. Generate a password and copy it (you won’t see it again).  

**Step 2: Update settings.py**  
In the project's `settings.py`, update the email configuration with your credentials:  
```sh
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'  
EMAIL_PORT = 587  
EMAIL_USE_TLS = True  
EMAIL_HOST_USER = 'your-email@gmail.com'  
EMAIL_HOST_PASSWORD = 'your-app-password'  # Use the App Password from Step 1
DEFAULT_FROM_EMAIL = 'your-email@gmail.com'
```

---------------------------------------------------------------------------------------------------------
## Configurations
### Hosting the Backend 
To host the backend, you can use your preferred platform like Heroku or AWS EC2. Follow the specific platform's documentation to deploy your Django project. We personally used AWS EC2 for hosting our backend, but you are free to choose the hosting that suits your needs.  

Our app was designed with the help of public hosting on AWS EC2 to ensure smooth integration with our frontend hosted using Expo. At the time of development, we couldn't find a reliable method to connect the Expo frontend directly to our Django backend without publicly hosting our backend. *However*, if you have any other solutions, feel free to contribute and request changes to the repository!

### Connecting the Backend to the Frontend
To connect the frontend to the backend successfully, the API_URL in your frontend code needs to be updated to reflect the public IP address of your backend server.  
In the frontend code, you’ll find the following line in multiple places:  
```sh 
const API_URL = "http://yourpublicIP:8000/patient/profile/";
```
You will need to replace ***yourpublicIP*** with the actual public IP address of your backend server (for example, the public IP of your AWS EC2 instance or any other platform you're hosting your backend on).  
  
Once the IP address is updated, the frontend should be able to communicate with the backend and retrieve the necessary data.
##
## Disclaimer
This project was made by **Luma Ainabousi** and **Sara Bustami (https://github.com/swb247)** as a group project.
